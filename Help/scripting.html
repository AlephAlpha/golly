<html>
<title>Golly Help: Scripting</title>
<body bgcolor="#FFFFCE">

<p>
<font size=+1><b>Scripting Golly</b></font>

<p>
<dd><a href="#install"><b>Installing Python</b></a></dd>
<dd><a href="#examples"><b>Example scripts</b></a></dd>
<dd><a href="#commands"><b>Golly's scripting commands</b></a></dd>
<dd><a href="#lists"><b>Cell lists and rectangle lists</b></a></dd>
<dd><a href="#glife"><b>Using the glife package</b></a></dd>
<dd><a href="#problems"><b>Potential problems</b></a></dd>
</p>


<p><a name="install">
&nbsp;<br>
<font size=+1><b>Installing Python</b></font>

<p>
Python scripts can be executed by Golly.  This is a very powerful
feature that allows you to do lots of interesting things:
automate Golly's user interface, extend its editing capabilities,
construct complicated patterns, perform collision experiments, etc.

<p>
Before you can run a script, Python needs to be installed on your system.
Mac OS X users don't need to do anything because Python is already installed.
Windows and Linux users can download a Python installer from
<a href="http://www.python.org/download/">www.python.org/download</a>.


<p><a name="examples">
&nbsp;<br>
<font size=+1><b>Example scripts</b></font>

<p>
The Scripts folder supplied with Golly contains a number of example Python scripts:
<p>
<dd>
<table cellspacing=0 cellpadding=0>
<tr>
   <td><b>density.py</b></td><td width=10> </td>
   <td> -- calculates the density of the current pattern</td>
</tr>
<tr>
   <td><b>gun-demo.py</b></td><td width=10> </td>
   <td> -- constructs a few spaceship guns</td>
</tr>
<tr>
   <td><b>invert.py</b></td><td width=10> </td>
   <td> -- inverts all cell states in the current selection</td>
</tr>
<tr>
   <td><b>oscar.py</b></td><td width=10> </td>
   <td> -- detects oscillating patterns, including spaceships</td>
</tr>
<tr>
   <td><b>pd-glider.py</b></td><td width=10> </td>
   <td> -- creates a set of pentadecathlon+glider collisions</td>
</tr>
<tr>
   <td><b>slide-show.py</b></td><td width=10> </td>
   <td> -- displays all patterns in the Patterns folder</td>
</tr>
<tr>
   <td><b>tile.py</b></td><td width=10> </td>
   <td> -- tiles the current selection with the pattern inside it</td>
</tr>
<tr>
   <td><b>tile-with-clip.py</b></td><td width=10> </td>
   <td> -- tiles the current selection with the clipboard pattern</td>
</tr>
</table>
</dd>
</p>

<p>
The easiest way to run one of these scripts is to tick the <b>Show Scripts</b>
item in the File menu and then simply click on the script you wish to run.
You can also use the <b>Run Script...</b> and <b>Run Recent</b> items.

<p>
Hit the escape key to abort a running script.

<!-- no need to mention this???
<p>
The current working directory is temporarily changed to the location
of the selected script file.  This is so a <b>save("foo.rle",...)</b>
command will save the file in the same directory as the script.
-->


<p><a name="commands">
&nbsp;<br>
<font size=+1><b>Golly's scripting commands</b></font>

<p>
This section describes all the commands that can be used in a script after
importing the <b>golly</b> module.  Commands are grouped by function:
<a href="#filing"><b>filing</b></a>,
<a href="#editing"><b>editing</b></a>,
<a href="#control"><b>control</b></a>,
<a href="#viewing"><b>viewing</b></a>
and <a href="#miscellaneous"><b>miscellaneous</b></a>.
Or you can search for individual commands alphabetically:
<p>
<dd>
<table cellspacing=0 cellpadding=0>
<tr>
<td valign=top>
<a href="#advance"><b>advance</b></a><br>
<a href="#appdir"><b>appdir</b></a><br>
<a href="#autoupdate"><b>autoupdate</b></a><br>
<a href="#clear"><b>clear</b></a><br>
<a href="#copy"><b>copy</b></a><br>
<a href="#cut"><b>cut</b></a><br>
<a href="#error"><b>error</b></a><br>
<a href="#evolve"><b>evolve</b></a><br>
<a href="#fit"><b>fit</b></a>
</td>
<td valign=top width=10> </td>
<td valign=top>
<a href="#fitsel"><b>fitsel</b></a><br>
<a href="#flip"><b>flip</b></a><br>
<a href="#getbase"><b>getbase</b></a><br>
<a href="#getcell"><b>getcell</b></a><br>
<a href="#getcells"><b>getcells</b></a><br>
<a href="#getclip"><b>getclip</b></a><br>
<a href="#getcursor"><b>getcursor</b></a><br>
<a href="#getgen"><b>getgen</b></a><br>
<a href="#getkey"><b>getkey</b></a>
</td>
<td valign=top width=10> </td>
<td valign=top>
<a href="#getmag"><b>getmag</b></a><br>
<a href="#getoption"><b>getoption</b></a><br>
<a href="#getpop"><b>getpop</b></a><br>
<a href="#getpos"><b>getpos</b></a><br>
<a href="#getrect"><b>getrect</b></a><br>
<a href="#getrule"><b>getrule</b></a><br>
<a href="#getselrect"><b>getselrect</b></a><br>
<a href="#getstep"><b>getstep</b></a><br>
<a href="#load"><b>load</b></a>
</td>
<td valign=top width=10> </td>
<td valign=top>
<a href="#new"><b>new</b></a><br>
<a href="#open"><b>open</b></a><br>
<a href="#parse"><b>parse</b></a><br>
<a href="#paste"><b>paste</b></a><br>
<a href="#putcells"><b>putcells</b></a><br>
<a href="#randfill"><b>randfill</b></a><br>
<a href="#reset"><b>reset</b></a><br>
<a href="#rotate"><b>rotate</b></a><br>
<a href="#run"><b>run</b></a>
</td>
<td valign=top width=10> </td>
<td valign=top>
<a href="#save"><b>save</b></a><br>
<a href="#select"><b>select</b></a><br>
<a href="#setbase"><b>setbase</b></a><br>
<a href="#setcell"><b>setcell</b></a><br>
<a href="#setcursor"><b>setcursor</b></a><br>
<a href="#setmag"><b>setmag</b></a><br>
<a href="#setoption"><b>setoption</b></a><br>
<a href="#setpos"><b>setpos</b></a><br>
<a href="#setrule"><b>setrule</b></a>
</td>
<td valign=top width=10> </td>
<td valign=top>
<a href="#setstep"><b>setstep</b></a><br>
<a href="#show"><b>show</b></a><br>
<a href="#shrink"><b>shrink</b></a><br>
<a href="#step"><b>step</b></a><br>
<a href="#store"><b>store</b></a><br>
<a href="#transform"><b>transform</b></a><br>
<a href="#update"><b>update</b></a><br>
<a href="#visrect"><b>visrect</b></a><br>
<a href="#warn"><b>warn</b></a>
</td>
</tr>
</table>
</dd>
</p>

<p><a name="filing">
&nbsp;<br>
FILING COMMANDS

<a name="open"></a><p><dt><b>open(<i>filename[, remember]</i>)</b></dt>
<dd>
Open the given pattern file.
A non-absolute path is relative to the location of the script.
The 2nd parameter is optional (default = False) and specifies if the file
should be remembered in the Open Recent submenu.
</dd>
<dd> Example: <b>open("my-patterns/foo.rle")</b></dd>
</p>

<a name="save"></a><p><dt><b>save(<i>filename, format[, remember]</i>)</b></dt>
<dd>
Save the current pattern in a given file using the specified format ("rle" or "mc").
A non-absolute path is relative to the location of the script.
The 3rd parameter is optional (default = False) and specifies if the file
should be remembered in the Open Recent submenu.
</dd>
<dd> Example: <b>save("foo.rle", "rle", True)</b></dd>
</p>

<a name="load"></a><p><dt><b>load(<i>filename</i>)</b></dt>
<dd>
Read the given pattern file and return a cell list.
</dd>
<dd> Example: <b>blinker = load("blinker.rle")</b></dd>
</p>

<a name="store"></a><p><dt><b>store(<i>cell-list, filename</i>)</b></dt>
<dd>
Write the given cell list to the specified file (only in RLE format).
</dd>
<dd> Example: <b>store(clist, "foo.rle")</b></dd>
</p>

<a name="appdir"></a><p><dt><b>appdir()</b></dt>
<dd>
Return the location of the Golly application as a string.
</dd>
<dd> Example: <b>open(appdir() + "Patterns/Breeders/breeder.lif")</b></dd>
</p>

<p><a name="editing">
&nbsp;<br>
EDITING COMMANDS

<a name="new"></a><p><dt><b>new(<i>title</i>)</b></dt>
<dd>
Create a new, empty universe and set the window title.
</dd>
<dd> Example: <b>new("test-pattern")</b></dd>
</p>

<a name="cut"></a><p><dt><b>cut()</b></dt>
<dd>
Cut the current selection to the clipboard.
</dd>
</p>

<a name="copy"></a><p><dt><b>copy()</b></dt>
<dd>
Copy the current selection to the clipboard.
</dd>
</p>

<a name="clear"></a><p><dt><b>clear(<i>where</i>)</b></dt>
<dd>
Clear inside (where = 0) or outside (where = 1) the current selection.
</dd>
<dd> Example: <b>clear(1)</b></dd>
</p>

<a name="paste"></a><p><dt><b>paste(<i>x, y, mode</i>)</b></dt>
<dd>
Paste the clipboard pattern at x,y using the given mode ("copy", "or" or "xor").
</dd>
<dd> Example: <b>paste(0, 0, "or")</b></dd>
</p>

<a name="shrink"></a><p><dt><b>shrink()</b></dt>
<dd>
Shrink the current selection to the smallest rectangle enclosing all of the
selection's live cells.
</dd>
</p>

<a name="randfill"></a><p><dt><b>randfill(<i>percentage</i>)</b></dt>
<dd>
Randomly fill the current selection to a density specified by the given
percentage (1 to 100).
</dd>
</p>

<a name="flip"></a><p><dt><b>flip(<i>direction</i>)</b></dt>
<dd>
Flip the current selection left-right (direction = 0) or up-down (direction = 1).
</dd>
</p>

<a name="rotate"></a><p><dt><b>rotate(<i>direction</i>)</b></dt>
<dd>
Rotate the current selection 90 degrees clockwise (direction = 0) or
anticlockwise (direction = 1).
</dd>
</p>

<a name="evolve"></a><p><dt><b>evolve(<i>cell-list, numgens</i>)</b></dt>
<dd>
Advance the pattern in the given cell list by the specified number of generations
and return the resulting cell list.
</dd>
<dd> Example: <b>newpatt = evolve(currpatt, 100)</b></dd>
</p>

<a name="transform"></a><p><dt><b>transform(<i>cell-list, x0, y0, axx, axy, ayx, ayy</i>)</b></dt>
<dd>
Apply an affine transformation to the given cell list and return the resulting cell list.
For each x,y cell in the input list the corresponding xn,yn cell in the output list
is calculated as xn = x0 + x*axx + y*axy, yn = y0 + x*ayx + y*ayy.
</dd>
<dd> Example: <b>rotated_blinker = transform(blinker, 0, 0, 0, -1, 1, 0)</b></dd>
</p>

<a name="parse"></a><p><dt><b>parse(<i>string, x0, y0, axx, axy, ayx, ayy</i>)</b></dt>
<dd>
Parse an RLE or Life 1.05 string and return a (possibly transformed) cell list.
</dd>
<dd> Example: <b>blinker = parse("3o!", 0, 0, 1, 0, 0, 1)</b></dd>
</p>

<a name="putcells"></a><p><dt><b>putcells(<i>cell-list, x0, y0, axx, axy, ayx, ayy</i>)</b></dt>
<dd>
Paste the given cell list into the current universe using the given transformation.
</dd>
<dd> Example: <b>putcells(blinker, 9, 9, 1, 0, 0, 1)</b></dd>
</p>

<a name="getcells"></a><p><dt><b>getcells(<i>rect-list</i>)</b></dt>
<dd>
Return any live cells in the specified rectangle as a cell list.
The given list can be empty (in which case the cell list is empty)
or it must represent a valid rectangle of the form [x,y,width,height].
</dd>
<dd> Example: <b>clist = getcells( getrect() )</b></dd>
</p>

<a name="getclip"></a><p><dt><b>getclip()</b></dt>
<dd>
Parse the pattern data in the clipboard and return a cell list.
</dd>
<dd> Example: <b>clist = getclip()</b></dd>
</p>

<a name="select"></a><p><dt><b>select(<i>rect-list</i>)</b></dt>
<dd>
Create a selection if the given list represents a valid rectangle of the form
[x,y,width,height] or remove the current selection if the given list is [].
</dd>
<dd> Example: <b>select( [-10,-10,20,20] )</b></dd>
</p>

<a name="getrect"></a><p><dt><b>getrect()</b></dt>
<dd>
Return the current pattern's bounding box as a list.
If there is no pattern then the list is empty ([]), otherwise the
list is of the form [x,y,width,height].
</dd>
<dd> Example: <b>if len(getrect()) == 0: show("No pattern.")</b></dd>
</p>

<a name="getselrect"></a><p><dt><b>getselrect()</b></dt>
<dd>
Return the current selection rectangle as a list.
If there is no selection then the list is empty ([]), otherwise the
list is of the form [x,y,width,height].
</dd>
<dd> Example: <b>if len(getselrect()) == 0: show("No selection.")</b></dd>
</p>

<a name="setcell"></a><p><dt><b>setcell(<i>x, y, state</i>)</b></dt>
<dd>
Set the given cell to the specified state (0 for a dead cell, 1 for a live cell).
</dd>
</p>

<a name="getcell"></a><p><dt><b>getcell(<i>x, y</i>)</b></dt>
<dd>
Return the state of the given cell.
</dd>
<dd> Example: <b>setcell(0, 0, 1 - getcell(0, 0))</b>&nbsp;&nbsp; # invert the cell at 0,0</dd>
</p>

<a name="setcursor"></a><p><dt><b>setcursor(<i>index</i>)</b></dt>
<dd>
Set the cursor according to the given index and return the old cursor index.
The valid index values are 0 for the pencil cursor, 1 for the cross cursor,
2 for the hand cursor, 3 for the zoom-in cursor and 4 for the zoom-out cursor.
Note that you will only see the new cursor when the script finishes.
</dd>
<dd> Example: <b>oldcurs = setcursor(3)</b></dd>
</p>

<a name="getcursor"></a><p><dt><b>getcursor()</b></dt>
<dd>
Return the current cursor index.
</dd>
</p>

<p><a name="control">
&nbsp;<br>
CONTROL COMMANDS

<a name="run"></a><p><dt><b>run(<i>numgens</i>)</b></dt>
<dd>
Run the current pattern for the specified number of generations.
Intermediate generations are never displayed, and the final generation
is only displayed if the current <b>autoupdate</b> setting is True.
</dd>
<dd> Example: <b>run(100)</b></dd>
</p>

<a name="step"></a><p><dt><b>step()</b></dt>
<dd>
Run the current pattern for the current step.
Intermediate generations are never displayed, and the final generation
is only displayed if the current <b>autoupdate</b> setting is True.
</dd>
</p>

<a name="setstep"></a><p><dt><b>setstep(<i>exp</i>)</b></dt>
<dd>
Set the step to base^exp (use the <b>setbase</b> command to change the base).
A negative exponent sets the step to 1; it also sets a delay between each
step, but that delay is ignored by the <b>run</b> and <b>step</b> commands.
</dd>
<dd> Example: <b>setstep(0)</b></dd>
</p>

<a name="getstep"></a><p><dt><b>getstep()</b></dt>
<dd>
Return the current step exponent.
</dd>
<dd> Example: <b>setstep( getstep() + 1 )</b></dd>
</p>

<a name="setbase"></a><p><dt><b>setbase(<i>base</i>)</b></dt>
<dd>
Set the base step for the current universe type (hashing or non-hashing),
so you might need to call <b>setoption("hashing",True/False)</b> first.
The given base must be an integer from 2 to 100.
The current step is also changed to base^exp where exp is the current step
exponent returned by <b>getstep()</b>.
</dd>
<dd> Example: <b>setbase(2)</b></dd>
</p>

<a name="getbase"></a><p><dt><b>getbase()</b></dt>
<dd>
Return the current base step for the current universe type (hashing or non-hashing).
</dd>
</p>

<a name="advance"></a><p><dt><b>advance(<i>where, numgens</i>)</b></dt>
<dd>
Advance inside (where = 0) or outside (where = 1) the current selection by the
specified number of generations.  The generation count does not change.
</dd>
<dd> Example: <b>advance(0, 3)</b></dd>
</p>

<a name="reset"></a><p><dt><b>reset()</b></dt>
<dd>
Restore the starting pattern and reset the generation count to 0.
Also reset the rule, scale, location, step exponent and hashing option
to the values they had at generation 0.
</dd>
</p>

<a name="getgen"></a><p><dt><b>getgen()</b></dt>
<dd>
Return the current generation count as a string of the form "1,234,567,...".
The string can be arbitrarily long so be careful when converting
it to a 32-bit integer.
The following example converts the generation count to an integer mod 1 billion.
</dd>
<dd> Example: <b>gen = int( getgen().replace(",","")[-9:] )</b></dd>
</p>

<a name="getpop"></a><p><dt><b>getpop()</b></dt>
<dd>
Return the current population as a string of the form "1,234,567,...".
The string can be arbitrarily long so be careful when converting
it to a 32-bit integer.
The following example converts the population to a floating point number.
</dd>
<dd> Example: <b>pop = float( getpop().replace(",","") )</b></dd>
</p>

<a name="setrule"></a><p><dt><b>setrule(<i>string</i>)</b></dt>
<dd>
Set the current rule according to the given string.
If the string is invalid then you'll get an error message and the script will
be aborted (and the original rule will be restored).
</dd>
<dd> Example: <b>setrule("b3/s23")</b></dd>
</p>

<a name="getrule"></a><p><dt><b>getrule()</b></dt>
<dd>
Return the current rule as a string.
</dd>
</p>

<p><a name="viewing">
&nbsp;<br>
VIEWING COMMANDS

<a name="setpos"></a><p><dt><b>setpos(<i>x, y</i>)</b></dt>
<dd>
Put the given cell in the middle of the viewport.
</dd>
<dd> Example: <b>setpos(-100, -100)</b></dd>
</p>

<a name="getpos"></a><p><dt><b>getpos()</b></dt>
<dd>
Get the x,y position of the cell currently in the middle of the viewport.
Note that it returns a Python tuple, not a list.
</dd>
<dd> Example: <b>midx, midy = getpos()</b></dd>
</p>

<a name="setmag"></a><p><dt><b>setmag(<i>mag</i>)</b></dt>
<dd>
Set the magnification, where 0 corresponds to the scale 1:1, 1 = 1:2, -1 = 2:1, etc.
The maximum allowed magnification is 4 (= 1:16).
</dd>
<dd> Example: <b>setmag(0)</b></dd>
</p>

<a name="getmag"></a><p><dt><b>getmag()</b></dt>
<dd>
Return the current magnification.
</dd>
<dd> Example: <b>setmag( getmag() - 1 )</b></dd>
</p>

<a name="fit"></a><p><dt><b>fit()</b></dt>
<dd>
Fit the entire pattern in the viewport.
</dd>
</p>

<a name="fitsel"></a><p><dt><b>fitsel()</b></dt>
<dd>
Fit the current selection in the viewport.
</dd>
</p>

<a name="visrect"></a><p><dt><b>visrect(<i>rect-list</i>)</b></dt>
<dd>
Return True if the given rectangle is completely visible in the viewport.
The rectangle must be a list of the form [x,y,width,height].
</dd>
<dd> Example: <b>if visrect( [0,0,44,55] ): . . .</b></dd>
</p>

<a name="autoupdate"></a><p><dt><b>autoupdate(<i>bool</i>)</b></dt>
<dd>
When Golly runs a script this setting is initially False.
If the given parameter is True then Golly will automatically update the
viewport and the status bar after each command that changes the
universe or viewport in some way.  Useful for debugging Python scripts.
</dd>
<dd> Example: <b>autoupdate(True)</b></dd>
</p>

<a name="update"></a><p><dt><b>update()</b></dt>
<dd>
Immediately update the viewport and the status bar, regardless of the
current <b>autoupdate</b> setting.  Note that Golly always does an
update when the script finishes.
</dd>
</p>

<p><a name="miscellaneous">
&nbsp;<br>
MISCELLANEOUS COMMANDS

<a name="setoption"></a><p><dt><b>setoption(<i>name, value</i>)</b></dt>
<dd>
Set the given option to the given value.
The old value is returned to make it easy to restore a setting.
Here are all the valid option names and their possible values:
</dd>
<p>
<dd>
<table cellspacing=0 cellpadding=0>
<tr><td><b>"autofit"</b></td><td width=10>       </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"blackcells"</b></td><td width=10>    </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"boldspacing"</b></td><td width=10>   </td><td>2 to 1000</td></tr>
<tr><td><b>"fullscreen"</b></td><td width=10>    </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"hashing"</b></td><td width=10>       </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"hyperspeed"</b></td><td width=10>    </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"maxdelay"</b></td><td width=10>      </td><td>0 to 5000 (millisecs)</td></tr>
<tr><td><b>"mindelay"</b></td><td width=10>      </td><td>0 to 5000 (millisecs)</td></tr>
<tr><td><b>"showboldlines"</b></td><td width=10> </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"showgrid"</b></td><td width=10>      </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"showpatterns"</b></td><td width=10>  </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"showscripts"</b></td><td width=10>   </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"showstatusbar"</b></td><td width=10> </td><td>1 or 0 (True or False)</td></tr>
<tr><td><b>"showtoolbar"</b></td><td width=10>   </td><td>1 or 0 (True or False)</td></tr>
</table>
</dd>
<p>
<dd> Example: <b>oldhash = setoption("hashing", True)</b></dd>
</p>

<a name="getoption"></a><p><dt><b>getoption(<i>name</i>)</b></dt>
<dd>
Return the current value of the given option.
See above for a list of all the valid option names.
</dd>
<dd> Example: <b>if not getoption("hashing"): setrule("b0")</b></dd>
</p>

<a name="getkey"></a><p><dt><b>getkey()</b></dt>
<dd>
Return a key hit by the user, or an empty string if no key was hit.
Keys are buffered in a first-in first-out queue.
</dd>
<dd> Example: <b>if getkey() == "\n": return</b></dd>
</p>

<a name="show"></a><p><dt><b>show(<i>message</i>)</b></dt>
<dd>
Show the given string in the bottom line of the status bar.
</dd>
<dd> Example: <b>show("Hit any key to continue...")</b></dd>
</p>

<a name="error"></a><p><dt><b>error(<i>message</i>)</b></dt>
<dd>
Beep and show the given string in the bottom line of the status bar.
</dd>
<dd> Example: <b>error("The pattern is empty.")</b></dd>
</p>

<a name="warn"></a><p><dt><b>warn(<i>message</i>)</b></dt>
<dd>
Show the given string in Golly's warning dialog.
Useful for debugging Python scripts.
</dd>
<dd> Example: <b>warn("xxx = " + str(xxx))</b></dd>
</p>


<p><a name="lists">
&nbsp;<br>
<font size=+1><b>Cell lists and rectangle lists</b></font>

<p>
Some of Golly's scripting commands manipulate patterns in the form of cell lists.
A cell list is simply a Python list containing integer cell coordinates:
<p>
<dd><b>[ x1, y1, x2, y2 . . . xn, yn ]</b></dd>
<p>
A cell list should always contain an even number of integers.
The ordering of cells within the list doesn't matter.
Note that in Golly's coordinate system, positive y values increase downwards.

<p>
Some commands manipulate rectangles in the form of lists.
An empty rectangle is indicated by a list with no items; ie. <b>[]</b>.
A non-empty rectangle is indicated by a list containing four integers:
<p>
<dd><b>[ left, top, width, height ]</b></dd>
<p>
The first two items specify the cell at the top left corner of the
rectangle.  The last two items specify the rectangle's size (in cells).
The width and height must be greater than zero.


<p><a name="glife">
&nbsp;<br>
<font size=+1><b>Using the glife package</b></font>

<p>
The glife folder included in the Scripts folder is a Python package that
provides a high-level interface to some of Golly's scripting commands.
(It's based on Eugene Langvagen's <b>life</b> package included in
<a href="http://plife.sourceforge.net/">PLife</a>.)
When a script imports <b>glife</b> (or any of its submodules), Python
automatically executes the <b>__init__.py</b> module.  This module defines
the <b>pattern</b> and <b>rect</b> classes as well as a number of
useful synonyms.  For example, consider this script:
<p>
<dd><b>from glife import *</b></dd>
<dd><b>blinker = pattern("3o!")</b></dd>
<dd><b>blinker.put(1, 2)</b></dd>
<dd><b>blinker.put(6, 7, rcw)</b>&nbsp;&nbsp; # rcw means rotate clockwise</dd>
</p>
<p>
Here is the equivalent script without using <b>glife</b>:
<p>
<dd><b>import golly as g</b></dd>
<dd><b>blinker = g.parse("3o!", 0, 0, 1, 0, 0, 1)</b></dd>
<dd><b>g.putcells(blinker, 1, 2, 1, 0, 0, 1)</b></dd>
<dd><b>g.putcells(blinker, 6, 7, 0, -1,  1,  0)</b></dd>
</p>
<p>
Most of the examples in the Scripts folder import <b>glife</b>,
but it isn't compulsory.  For the scripts you write you might prefer to
create your own high-level interface.


<p><a name="problems">
&nbsp;<br>
<font size=+1><b>Potential problems</b></font>

<p>
The Python interpreter's memory allocator never releases memory back to the
operating system.  If you run a complicated or buggy script that uses lots
of (Python) memory then that memory is no longer available for use by Golly,
so you might need to quit Golly and restart.
This problem is hopefully only temporary.  The next major release of Python
has a smarter memory allocator (available now if you're willing to build
Python from the latest source code).

<p>
The first time you run a script that imports a particular module,
the Python interpreter caches the results so it won't need to reload that
module the next time it is imported.  This is good for efficiency, but it's
a problem if you've modified an imported module and you want to test your changes.
One solution is to quit Golly and restart.  A better solution is to force the
module to be reloaded by inserting a line like
<p>
<dd><b>import mymodule ; reload(mymodule)</b></dd>
</p>
<p>
at the start of each script that imports the module.
When the module is stable you can remove or comment out the above line.

<p>
The escape key check to abort a running script is not done by Python but
by each Golly scripting command.  This means that very long Python computations
should call an occasional "no-op" command like <b>run(0)</b> to allow the
script to be aborted in a timely manner.

</body>
</html>
